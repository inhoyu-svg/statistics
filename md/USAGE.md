# 📘 상세 사용 가이드

통계 시각화 도구를 처음 사용하시는 분들을 위한 단계별 상세 가이드입니다.

## 📖 목차

1. [기본 개념](#기본-개념)
2. [테이블 타입 소개](#테이블-타입-소개)
3. [단계별 사용법](#단계별-사용법)
4. [다양한 예시](#다양한-예시)
5. [통계 용어 설명](#통계-용어-설명)
6. [고급 기능](#고급-기능)
7. [문제 해결](#문제-해결)

---

## 기본 개념

### 도수분포표란?

도수분포표는 데이터를 일정한 구간(계급)으로 나누어, 각 구간에 속하는 데이터의 개수(도수)를 정리한 표입니다.

**왜 사용하나요?**
- 많은 데이터를 한눈에 파악하기 쉽게 정리
- 데이터의 분포 경향을 쉽게 파악
- 통계 분석의 기초 자료로 활용

### 주요 용어

- **계급 (Class)**: 데이터를 나누는 구간 (예: 0~10, 10~20)
- **계급값 (Class Mark)**: 각 계급의 중간값 (예: 0~10의 계급값은 5)
- **도수 (Frequency)**: 각 계급에 속하는 데이터의 개수
- **상대도수 (Relative Frequency)**: 전체 데이터 중 해당 계급의 비율 (%)
- **누적도수 (Cumulative Frequency)**: 처음부터 해당 계급까지의 도수 합계

---

## 테이블 타입 소개

이 도구는 **4가지 테이블 타입**을 지원합니다. 데이터 특성에 맞는 타입을 선택하세요.

### 📊 도수분포표 (Frequency Table)

숫자 데이터의 분포를 분석하는 가장 기본적인 통계표입니다.

**특징:**
- 데이터를 계급(구간)으로 분류
- 히스토그램과 상대도수 다각형 생성
- 도수, 상대도수, 누적도수 자동 계산

**적합한 데이터:** 시험 점수, 키, 몸무게, 나이 등 연속형 수치 데이터

**입력 형식:**
```
62 87 97 73 59 85 80 79 65 75
```

---

### 📋 이원 분류표 (Cross Table)

두 변수의 관계를 분석하는 교차 분류표입니다.

**특징:**
- 행(카테고리)과 열(그룹)으로 데이터 분류
- 상대도수 헤더 표시 옵션
- 합계 행 자동 계산

**적합한 데이터:** 혈액형별 남녀 분포, 선호도 조사 등

**입력 형식:**
```
혈액형|남학생|여학생
A|0.35|0.25
B|0.20|0.30
AB|0.15|0.20
O|0.30|0.25
```

---

### 🔢 카테고리 행렬 (Category Matrix)

다중 카테고리 데이터를 표현하는 행렬입니다.

**특징:**
- 유연한 행/열 구조
- 다양한 카테고리 조합 표현

**입력 형식:** 파이프(|)로 열 구분, 줄바꿈으로 행 구분

---

### 🌿 줄기-잎 그림 (Stem-and-Leaf Plot)

데이터의 분포를 시각적으로 표현하는 방법입니다.

**특징:**
- 원본 데이터 값 유지
- 분포 형태를 직관적으로 파악

**적합한 데이터:** 소규모 데이터셋의 분포 분석

**입력 형식:**
```
줄기|잎
14|2 5 8
15|1 4 7 0 3
16|0 3
```

---

## 단계별 사용법

### STEP 1: 웹사이트 접속

1. 브라우저에서 [https://math-statistics-library.vercel.app](https://math-statistics-library.vercel.app) 접속
2. 페이지가 로드되면 중앙에 입력 폼이 보입니다

### STEP 2: 데이터 입력

#### 입력 방법
데이터 입력 창에 숫자를 입력하세요. 구분자는 다음 중 아무거나 사용 가능합니다:

- **쉼표 (,)**: `2, 5, 8, 10, 3`
- **공백 ( )**: `2 5 8 10 3`
- **혼합**: `2, 5 8, 10 3` (자동으로 처리됨)

#### 입력 가능한 데이터
- ✅ 양수: `1, 2, 3, 4, 5`
- ✅ 음수: `-5, -3, 0, 2, 5`
- ✅ 소수: `1.5, 2.3, 4.7, 8.2`
- ✅ 큰 수: `100, 250, 380, 500`

#### 입력 제한
- **최소**: 2개 이상의 데이터 필요
- **최대**: 10,000개까지 입력 가능
- **형식**: 숫자만 인식 (문자는 자동 제거)

### STEP 3: 계급 설정

#### 계급 개수 설정
- **기본값**: 5개
- **범위**: 3~20개
- **권장 사항**:
  - 데이터 10개 이하 → 3~5개
  - 데이터 10~50개 → 5~8개
  - 데이터 50~100개 → 7~12개
  - 데이터 100개 이상 → 10~20개

**예시:**
```
데이터: 15개 → 계급 개수: 5개 권장
데이터: 100개 → 계급 개수: 10개 권장
```

#### 계급 간격 설정 (선택)
보통은 비워두고 자동 계산을 사용하세요.

**직접 설정하는 경우:**
- 특정 간격으로 구간을 나누고 싶을 때
- 예: 시험 점수를 10점 단위로 나누기

```
계급 간격: 10
→ 0~10, 10~20, 20~30, 30~40, ...
```

### STEP 4: 생성 버튼 클릭

"**도수분포표 생성**" 버튼 클릭 또는 **Ctrl + Enter** 키 입력

### STEP 5: 결과 확인

#### ① 통계 요약 카드 (왼쪽 하단)
6개의 통계 카드가 표시됩니다:

| 카드 | 설명 | 예시 해석 |
|------|------|-----------|
| 데이터 개수 | 전체 데이터 수 | 15개의 데이터 입력됨 |
| 최솟값 | 가장 작은 값 | 2 (가장 낮은 점수) |
| 최댓값 | 가장 큰 값 | 10 (가장 높은 점수) |
| 범위 | 최댓값 - 최솟값 | 8 (데이터의 퍼짐 정도) |
| 평균 | 모든 값의 평균 | 5.73 (중심 경향) |
| 중앙값 | 중간에 위치한 값 | 5.00 (극단값 영향 적음) |

💡 **Tip**: 각 카드에 마우스를 올리면 상세 설명이 나타납니다!

#### ② 도수분포표 (오른쪽 상단)
표 형식으로 각 계급의 통계를 보여줍니다:

| 계급 | 계급값 | 도수 | 상대도수(%) | 누적도수 | 누적상대도수(%) |
|------|--------|------|-------------|----------|-----------------|
| 2~4  | 3.00   | 4    | 26.67       | 4        | 26.67           |
| 4~6  | 5.00   | 4    | 26.67       | 8        | 53.33           |
| 6~8  | 7.00   | 4    | 26.67       | 12       | 80.00           |
| 8~10 | 9.00   | 3    | 20.00       | 15       | 100.00          |

**표 읽는 방법:**
- 첫 번째 행: 2~4 구간에 4개의 데이터가 있음 (전체의 26.67%)
- 누적도수 컬럼: 2~6 구간까지 총 8개의 데이터가 있음

#### ③ 히스토그램 & 상대도수 다각형 (오른쪽 하단)
시각적으로 데이터 분포를 확인할 수 있습니다:

**히스토그램 (파란색 막대)**
- 막대 높이: 상대도수 (전체 대비 비율)
- 초록색 테두리: 데이터가 있는 구간
- 테두리 없음: 데이터가 0인 구간

**상대도수 다각형 (주황색 선)**
- 각 계급의 중앙값을 연결한 선
- 데이터 분포의 경향성을 쉽게 파악

**X축 라벨**
- 계급 경계값만 표시 (0, 2, 4, 6, 8, 10, ...)
- 막대 사이 숫자가 각 구간의 경계

---

## 다양한 예시

### 예시 1: 학생 시험 점수 분석

**상황**: 수학 시험 점수 20개 분석

**입력 데이터:**
```
75, 82, 68, 91, 85, 77, 89, 73, 95, 80,
86, 72, 88, 79, 84, 90, 76, 83, 87, 81
```

**설정:**
- 계급 개수: 5
- 계급 간격: (자동)

**결과 해석:**
```
계급: 68~73  도수: 3   → 낮은 점수대 학생 3명
계급: 73~78  도수: 4   → 중하위권 학생 4명
계급: 78~83  도수: 5   → 중위권 학생 5명 (가장 많음)
계급: 83~88  도수: 5   → 중상위권 학생 5명
계급: 88~93  도수: 3   → 높은 점수대 학생 3명

평균: 82.10점
중앙값: 82.50점
→ 중위권에 학생들이 고르게 분포
```

### 예시 2: 키 분포 조사

**상황**: 남학생 30명의 키(cm) 측정

**입력 데이터:**
```
172, 168, 175, 170, 165, 178, 171, 169, 173, 176,
167, 174, 172, 170, 168, 177, 171, 169, 173, 175,
166, 172, 174, 170, 168, 176, 171, 169, 173, 175
```

**설정:**
- 계급 개수: 6
- 계급 간격: 3

**결과 해석:**
```
계급: 165~168  도수: 5   → 작은 키
계급: 168~171  도수: 8   → 중하위권 (가장 많음)
계급: 171~174  도수: 9   → 중위권 (가장 많음)
계급: 174~177  도수: 6   → 중상위권
계급: 177~180  도수: 2   → 큰 키

평균: 171.53cm
중앙값: 171.00cm
→ 168~174cm에 많이 분포 (정규분포에 가까움)
```

### 예시 3: 연령대 분포

**상황**: 동호회 회원 50명의 나이 분석

**입력 데이터:**
```
23, 25, 28, 22, 30, 27, 24, 26, 29, 31,
21, 32, 25, 28, 27, 24, 26, 29, 23, 30,
22, 28, 26, 25, 27, 24, 29, 31, 23, 26,
25, 28, 27, 30, 24, 26, 29, 22, 31, 25,
27, 28, 26, 24, 30, 23, 29, 25, 27, 26
```

**설정:**
- 계급 개수: 6
- 계급 간격: 2

**결과 해석:**
```
계급: 20~22  도수: 4   → 20대 초반
계급: 22~24  도수: 8   → 20대 초중반
계급: 24~26  도수: 12  → 20대 중반 (가장 많음)
계급: 26~28  도수: 11  → 20대 중후반
계급: 28~30  도수: 9   → 20대 후반
계급: 30~32  도수: 6   → 30대 초반

평균: 26.34세
중앙값: 26.00세
→ 24~28세에 집중 (동호회 주 연령대)
```

### 예시 4: 빈 구간 압축 - 고득점 시험 점수

**상황**: 어려운 수학 시험에서 높은 점수대만 나온 경우

**입력 데이터:**
```
142, 145, 148, 151, 154, 157, 160, 163
```

**설정:**
- 계급 개수: 5
- 계급 간격: 10

**결과 해석:**
```
계급: 0~10, 10~20, ... 130~140  → 도수 0 (빈 구간, 이중물결표(≈)로 압축)
계급: 140~150  도수: 3
계급: 150~160  도수: 3
계급: 160~170  도수: 2

평균: 152.50점
중앙값: 152.50점
→ 히스토그램에서 0~140 구간이 ≈ 기호로 압축 표시
→ 140점 이상 구간만 차트에 강조되어 보기 쉬움
```

**특징:**
- 빈 구간이 자동으로 압축되어 차트가 깔끔
- 실제 데이터가 있는 구간에 집중 가능
- 별도 설정 없이 자동 적용

---

## 통계 용어 설명

### 계급 (Class)
데이터를 일정한 간격으로 나눈 구간

**예시:**
```
점수 데이터: 65, 72, 85, 90, 78
계급 나누기:
  - 60~70: 1개 (65)
  - 70~80: 2개 (72, 78)
  - 80~90: 1개 (85)
  - 90~100: 1개 (90)
```

### 계급값 (Class Mark)
각 계급의 중간값 = (최솟값 + 최댓값) / 2

**예시:**
```
계급 60~70의 계급값 = (60 + 70) / 2 = 65
계급 70~80의 계급값 = (70 + 80) / 2 = 75
```

### 도수 (Frequency)
각 계급에 속하는 데이터의 개수

**예시:**
```
데이터: 2, 3, 5, 7, 8, 9
계급 0~5의 도수 = 3개 (2, 3, 5)
계급 5~10의 도수 = 3개 (7, 8, 9)
```

### 상대도수 (Relative Frequency)
전체 데이터 중 해당 계급이 차지하는 비율

**계산 공식:**
```
상대도수(%) = (해당 계급의 도수 / 전체 데이터 개수) × 100
```

**예시:**
```
전체 데이터: 20개
계급 60~70의 도수: 5개
상대도수 = (5 / 20) × 100 = 25%
→ 전체의 25%가 60~70점 구간에 속함
```

### 누적도수 (Cumulative Frequency)
처음 계급부터 현재 계급까지의 도수를 모두 더한 값

**예시:**
```
계급 1 (0~5):   도수 3개  → 누적도수 3
계급 2 (5~10):  도수 4개  → 누적도수 7 (3+4)
계급 3 (10~15): 도수 2개  → 누적도수 9 (7+2)
```

**활용:**
- 특정 값 이하의 데이터가 몇 개인지 파악
- 백분위수 계산에 활용

### 평균 (Mean)
모든 데이터 값을 더한 후 개수로 나눈 값

**계산 공식:**
```
평균 = (모든 데이터의 합) / 데이터 개수
```

**예시:**
```
데이터: 2, 4, 6, 8, 10
평균 = (2+4+6+8+10) / 5 = 30 / 5 = 6
```

**특징:**
- 모든 데이터 값의 영향을 받음
- 극단값(이상치)에 민감

### 중앙값 (Median)
데이터를 크기순으로 정렬했을 때 가운데 위치한 값

**계산 방법:**
1. 데이터를 크기순으로 정렬
2. 개수가 홀수면: 정중앙 값
3. 개수가 짝수면: 중앙 2개 값의 평균

**예시:**
```
데이터: 2, 8, 3, 9, 5
정렬: 2, 3, 5, 8, 9
중앙값 = 5 (가운데 값)

데이터: 2, 8, 3, 9, 5, 7
정렬: 2, 3, 5, 7, 8, 9
중앙값 = (5 + 7) / 2 = 6
```

**특징:**
- 극단값의 영향을 덜 받음
- 치우친 분포에서 더 적절한 대푯값

### 범위 (Range)
최댓값과 최솟값의 차이

**계산 공식:**
```
범위 = 최댓값 - 최솟값
```

**예시:**
```
데이터: 2, 5, 8, 12, 15
범위 = 15 - 2 = 13
→ 데이터가 13만큼 퍼져있음
```

---

## 고급 기능

---

### ⌨️ 키보드 단축키

| 단축키 | 기능 |
|--------|------|
| **Ctrl + Enter** | 도수분포표 즉시 생성 |

💡 **Tip**: 데이터 입력 중에도 언제든지 사용 가능합니다!

---

### 💬 툴팁 활용

통계 카드에 **마우스를 올리면** 상세 설명이 자동으로 표시됩니다.

**툴팁에서 확인할 수 있는 정보:**
- ✓ 각 통계량의 정의
- ✓ 해석 방법
- ✓ 실제 활용 사례

---

### ⋯ 빈 구간 압축 기능 (Ellipsis Compression)

데이터가 없는 빈 계급 구간이 **3개 이상 연속**되면 자동으로 압축되어 **이중물결표(≈)**로 표시됩니다.

#### 📌 언제 나타나나요?

- ✓ 데이터가 0부터 시작하지 않고 큰 값에서 시작할 때
- ✓ 데이터 범위가 넓지만 특정 구간에만 데이터가 있을 때

#### 📊 예시: 시험 점수 (142~163 범위)

```
입력 데이터:
142, 145, 148, 151, 154, 157, 160, 163

설정:
- 계급 개수: 5
- 계급 간격: 10

결과:
계급 0~10, 10~20, ... 130~140 → 모두 도수 0 (빈 구간) ≈
계급 140~150 → 도수 3 ▓▓▓
계급 150~160 → 도수 3 ▓▓▓
계급 160~170 → 도수 2 ▓▓
```

**히스토그램 표시:**
```
[≈ 기호] → 140 → 150 → 160 → 170
         ↑               ▓▓▓   ▓▓▓   ▓▓
      빈 구간 압축      실제 데이터 영역
```

#### ✨ 장점

| 장점 | 설명 |
|------|------|
| 🎨 **깔끔한 차트** | 불필요한 빈 공간을 줄여 차트가 깔끔해집니다 |
| 🎯 **집중 분석** | 실제 데이터가 있는 구간에 집중할 수 있습니다 |
| 🔄 **자동 처리** | 별도 설정 없이 자동으로 적용됩니다 |

---

### 🎬 애니메이션 컨트롤

차트가 생성되면 **자동으로 애니메이션**이 재생됩니다. 원하는 대로 제어할 수 있습니다!

#### 🎮 컨트롤 버튼

| 버튼 | 기능 | 설명 |
|------|------|------|
| **▶ 재생** | Play | 애니메이션 시작 또는 일시정지 후 재개 |
| **⏸ 일시정지** | Pause | 현재 상태에서 멈춤 |
| **⏹ 정지** | Stop | 처음부터 다시 시작 |

#### ⚡ 속도 조절

```
슬라이더: [0.5x] ──●────── [3.0x]
                   ↑
               기본값: 1.0x
```

- **0.5x**: 느린 속도 (세밀한 관찰)
- **1.0x**: 기본 속도 (권장)
- **3.0x**: 빠른 속도 (빠른 확인)

#### 📊 진행도 슬라이더

```
진행도: [0%] ────●──────── [100%]
                 ↑
            드래그하여 이동
```

- **드래그**: 원하는 시점으로 즉시 이동
- **실시간 표시**: 현재 진행 상태를 퍼센트로 표시

#### 💡 활용 팁

| 상황 | 추천 방법 |
|------|-----------|
| 📢 **프레젠테이션** | 느린 속도(0.5x)로 단계별 설명 |
| 🔍 **세밀한 분석** | 진행도 슬라이더로 특정 구간 집중 |
| ⚡ **빠른 확인** | 빠른 속도(3.0x)로 전체 흐름 파악 |

---

### 🎨 레이어 관리 패널

차트의 각 요소를 **개별적으로 제어**하여 원하는 시각화를 만들 수 있습니다!

#### 📋 레이어 종류

| 레이어 | 아이콘 | 설명 |
|--------|--------|------|
| **막대 (Bar)** | ▓ | 히스토그램 - 각 계급의 도수를 나타내는 막대 |
| **점 (Point)** | ● | 상대도수 다각형의 각 지점 |
| **선 (Line)** | ─ | 점을 연결한 다각형 선 |

#### 🎛️ 레이어 제어 방법

```
┌─────────────────────────────┐
│ ⋮⋮ 👁 막대 (Bar)           │ ← 드래그로 순서 변경
├─────────────────────────────┤
│ ⋮⋮ 👁 점 (Point)           │ ← 눈 아이콘으로 표시/숨김
├─────────────────────────────┤
│ ⋮⋮ 👁 선 (Line)            │
└─────────────────────────────┘
```

| 컨트롤 | 기능 |
|--------|------|
| **👁 눈 아이콘** | 클릭하여 레이어 표시/숨김 전환 |
| **⋮⋮ 드래그 핸들** | 드래그하여 렌더링 순서 변경 |

#### 💡 활용 예시

| 목적 | 설정 방법 |
|------|-----------|
| 📊 **히스토그램만 보기** | 점, 선 레이어 숨김 → 막대만 표시 |
| 📈 **다각형만 보기** | 막대 레이어 숨김 → 선과 점만 표시 |
| 🎯 **막대를 위로** | 막대 레이어를 맨 위로 드래그 |

---

### 📊 차트 데이터 타입 선택

차트에 표시할 **데이터 종류**를 자유롭게 전환할 수 있습니다!

#### 📈 데이터 타입 비교

| 타입 | Y축 범위 | 막대 높이 | 용도 |
|------|----------|-----------|------|
| **상대도수 (%)** ⭐ | 0 ~ 100% | 전체 대비 비율 | 비율 비교에 유용 |
| **도수** | 0 ~ 최대 도수 | 실제 데이터 개수 | 개수 파악에 유용 |

⭐ = 기본값

#### 🔄 전환 방법

**Step 1**: 왼쪽 입력 섹션에서 **"📊 차트 데이터 유형"** 찾기

**Step 2**: 원하는 타입의 **라디오 버튼** 선택
```
○ 상대도수 (%)  ← 클릭
● 도수
```

**Step 3**: 차트와 범례가 **자동으로 업데이트**됨 ✨

#### 💡 언제 사용하나요?

| 상황 | 추천 타입 | 이유 |
|------|-----------|------|
| 🔍 **비율 분석** | 상대도수 (%) | 전체에서 차지하는 비중 파악 |
| 📊 **개수 확인** | 도수 | 실제 몇 개인지 정확히 파악 |
| 📈 **데이터 비교** | 상대도수 (%) | 서로 다른 크기의 데이터셋 비교 |

---

### ⚙️ 테이블 컬럼 커스터마이징

도수분포표의 **모든 컬럼을 자유롭게** 설정할 수 있습니다!

#### 🔧 설정 열기

**Step 1**: 왼쪽 입력 섹션에서 **"고급 설정"** 클릭 (접혀있는 섹션)

**Step 2**: **"표 컬럼 설정"** 섹션 확인

```
┌─────────────────────────────────────┐
│ ⋮⋮ ☑ 계급          [L][C][R] [___] │
│ ⋮⋮ ☑ 계급값        [L][C][R] [___] │
│ ⋮⋮ ☑ 도수          [L][C][R] [___] │
│ ⋮⋮ ☑ 상대도수(%)   [L][C][R] [___] │
│ ⋮⋮ ☑ 누적도수      [L][C][R] [___] │
│ ⋮⋮ ☑ 누적상대도수(%) [L][C][R] [___] │
└─────────────────────────────────────┘
```

#### 🎛️ 컬럼별 제어 기능

| 컨트롤 | 아이콘 | 기능 |
|--------|--------|------|
| **체크박스** | ☑ / ☐ | 컬럼 표시/숨김 전환 |
| **드래그 핸들** | ⋮⋮ | 컬럼 순서 드래그하여 변경 |
| **정렬 버튼** | L / C / R | 좌측/중앙/우측 정렬 선택 |
| **라벨 입력칸** | [___] | 컬럼 이름 직접 입력 |

#### 📋 기본 컬럼 구성

| 순서 | 컬럼명 | 기본 정렬 |
|------|--------|-----------|
| 1 | 계급 | 중앙 (C) |
| 2 | 계급값 | 중앙 (C) |
| 3 | 도수 | 중앙 (C) |
| 4 | 상대도수(%) | 중앙 (C) |
| 5 | 누적도수 | 중앙 (C) |
| 6 | 누적상대도수(%) | 중앙 (C) |

#### 💡 활용 예시

| 목적 | 설정 방법 | 결과 |
|------|-----------|------|
| 🗑️ **불필요한 컬럼 제거** | "누적상대도수(%)" 체크 해제 | 해당 컬럼이 표에서 사라짐 |
| 🔄 **순서 변경** | "도수"를 "계급값" 앞으로 드래그 | 계급 - 도수 - 계급값 순서로 변경 |
| ✏️ **라벨 변경** | "계급" → "점수 구간" 입력 | 테이블 헤더가 "점수 구간"으로 표시 |
| ⬅️ **좌측 정렬** | "계급" 컬럼에서 [L] 버튼 클릭 | 계급 값들이 왼쪽 정렬됨 |

⚠️ **주의**: 최소 1개 이상의 컬럼은 표시되어야 합니다!

---

### ㅤ첫 계급 상첨자 표시

첫 계급에 **"이상/미만"** 상첨자를 표시하여 범위를 명확하게 나타낼 수 있습니다.

#### 📝 표시 비교

| 옵션 | 표시 형태 | 의미 |
|------|-----------|------|
| ✅ **체크 ON** | 2<sup>이상</sup> ~ 4<sup>미만</sup> | 2 ≤ x < 4 (정확한 범위) |
| ☐ **체크 OFF** | 2 ~ 4 | 간단한 표기 |

#### ⚙️ 설정 방법

**위치**: 왼쪽 입력 섹션

```
☑ 첫 계급에 상첨자 표시 (이상/미만)  ← 클릭하여 켜기/끄기
```

⭐ **기본값**: 체크됨 (표시)

#### 💡 언제 사용하나요?

| 상황 | 추천 설정 | 이유 |
|------|-----------|------|
| 📚 **수학 교육** | ✅ ON | 부등호 개념 명확히 표시 |
| 📄 **공식 문서** | ✅ ON | 계급 경계를 정확히 표기 |
| 📊 **일반 분석** | ☐ OFF | 간결한 표현 선호 |

---

### 📝 계급 범위 커스터마이징

**불규칙한 계급 구간**이 필요할 때 직접 설정할 수 있습니다!

#### 🔧 설정 방법

**Step 1**: 도수분포표 생성

**Step 2**: 차트 아래 **"📝 계급 범위 커스터마이징"** 섹션 확인

**Step 3**: 세 가지 값 입력

```
┌──────────────────────────┐
│ 첫 칸:    0 ~ [___]      │
│ 두 번째:  ? ~ [___]      │ ← 간격 결정
│ 마지막:  [___] ~ ?       │
└──────────────────────────┘
```

| 입력 항목 | 설명 | 역할 |
|-----------|------|------|
| **첫 칸 끝값** | 첫 번째 계급의 끝 | 첫 구간 크기 결정 |
| **두 번째 끝값** | 두 번째 계급의 끝 | **간격 자동 계산** |
| **마지막 시작값** | 마지막 계급의 시작 | 전체 범위 결정 |

#### 📊 예시

**입력:**
```
첫 칸 끝값:     5
두 번째 끝값:   10
마지막 시작값:  30
```

**결과:**
```
계급 1:  0 ~  5  (첫 칸, 크기: 5)
계급 2:  5 ~ 10  (간격 결정: 5)
계급 3: 10 ~ 15  (간격: 5)
계급 4: 15 ~ 20  (간격: 5)
계급 5: 20 ~ 25  (간격: 5)
계급 6: 25 ~ 30  (간격: 5)
계급 7: 30 ~ 35  (마지막, 자동 계산)
```

💡 **핵심**: 두 번째 칸의 간격(5)이 중간 칸들에 자동 적용됨!

#### 💡 활용 사례

| 상황 | 사용 이유 |
|------|-----------|
| 🎯 **특정 구간 강조** | 관심 있는 범위를 더 세밀하게 나눔 |
| 📊 **불규칙 간격** | 첫 칸만 작게, 나머지는 크게 설정 |
| 📝 **시험 점수 구간** | 60점 이하, 60~80, 80~100 등 사용자 정의 |

---

### 🏷️ 막대 위 값 표시

히스토그램의 각 막대 **위에 값을 표시**하여 정확한 수치를 쉽게 확인할 수 있습니다!

#### ⚙️ 설정 방법

**위치**: 왼쪽 입력 섹션

```
☑ 막대 위 값 표시  ← 클릭하여 켜기/끄기
```

⭐ **기본값**: 체크 해제 (숨김)

#### 📊 표시 내용

| 차트 데이터 타입 | 표시 형식 | 예시 |
|-----------------|----------|------|
| **상대도수 (%)** | 백분율 | `20`, `25.5`, `30` |
| **도수** | 정수 | `4`, `5`, `6` |

💡 **자동 조정**: 차트 데이터 타입에 따라 표시 형식이 자동으로 변경됩니다!

#### ✨ 특징

| 특징 | 설명 |
|------|------|
| 🎬 **Fade-in 애니메이션** | 막대가 50% 이상 자란 후 서서히 나타남 |
| 📊 **데이터 타입 연동** | 상대도수/도수 모드에 따라 자동 포맷팅 |
| 🎨 **최상위 렌더링** | 다각형 선/점 위에 표시되어 가려지지 않음 |
| 🔄 **즉시 반영** | 체크박스 토글 시 애니메이션 없이 즉시 적용 |

#### 💡 언제 사용하나요?

| 상황 | 추천 설정 | 이유 |
|------|-----------|------|
| 📢 **프레젠테이션** | ✅ ON | 정확한 수치를 청중에게 명확히 전달 |
| 📊 **정밀 분석** | ✅ ON | 막대 높이만으로 판단하기 어려운 경우 |
| 🎨 **깔끔한 차트** | ☐ OFF | 시각적 단순함 선호 시 |

---

### 🏷️ X축/Y축 라벨 변경

차트의 **축 이름을 자유롭게** 변경할 수 있습니다!

#### 📌 축 끝 라벨 자동 표시 (NEW)

차트의 축 끝에 축 제목이 **자동으로 표시**됩니다:

| 축 | 기존 (숫자) | 변경 후 (축 제목) |
|----|------------|------------------|
| **X축 끝** | 110, 170 등 | `(계급)` |
| **Y축 끝** | 36, 100 등 | `(상대도수)` 또는 `(도수)` |

💡 **자동 조정**: Y축 라벨이 4글자를 초과하면 폰트 크기가 자동으로 줄어듭니다.

#### ⚙️ 설정 방법

**Step 1**: 왼쪽 입력 섹션에서 **"고급 설정"** 클릭

**Step 2**: X축/Y축 라벨 입력란 찾기

```
┌──────────────────────────┐
│ X축 라벨: [계급_______] │
│ Y축 라벨: [상대도수___] │
└──────────────────────────┘
```

**Step 3**: 원하는 텍스트 입력

#### 📊 라벨 예시

| 용도 | X축 | Y축 |
|------|-----|-----|
| **기본값** | 계급 | 상대도수 / 도수 |
| **시험 점수** | 점수 구간 | 학생 비율(%) |
| **연령 분석** | 나이대 | 인원수 |
| **키 분포** | 키(cm) | 빈도(%) |

#### ⚠️ 주의사항

| 항목 | 설명 |
|------|------|
| **X축 라벨** | 테이블의 "계급" 컬럼 이름과 **자동 연동**됨 |
| **Y축 라벨** | 차트 데이터 타입(상대도수/도수)에 따라 **자동 조정**됨 |
| **비워두기** | 비워두면 기본값 사용 |

---

### 📊 차트 해석 팁

#### 📈 히스토그램 모양으로 분포 파악

| 분포 유형 | 모양 | 특징 | 실제 예시 |
|----------|------|------|-----------|
| **🔔 종 모양** (정규분포) | `▂▄█▄▂` | 중앙에 많이 모여있고 양 끝으로 갈수록 감소 | 시험 점수, 키, 몸무게 |
| **➡️ 오른쪽 치우침** | `█▆▄▂▁` | 낮은 값이 많고 높은 값이 적음 | 소득 분포, 집값 분포 |
| **⬅️ 왼쪽 치우침** | `▁▂▄▆█` | 높은 값이 많고 낮은 값이 적음 | 고난도 시험 점수 |
| **📊 균등 분포** | `███████` | 모든 구간에 골고루 분포 | 주사위 눈금 |

#### 📉 상대도수 다각형 활용

| 요소 | 의미 | 활용 |
|------|------|------|
| **선의 기울기** | 데이터 증가/감소 추세 | 경향성 파악 |
| **최고점** | 데이터가 가장 많은 구간 | 최빈값 확인 |
| **선의 전체 모양** | 분포의 전반적 경향 | 패턴 분석 |

💡 **활용 팁**: 히스토그램과 다각형을 함께 보면 데이터의 분포와 경향을 동시에 파악할 수 있습니다!

---

### 📦 다중 데이터셋 관리

여러 데이터셋을 동시에 관리하고 비교할 수 있습니다!

#### ➕ 데이터셋 추가

**"+ 도수분포표 추가"** 버튼을 클릭하면 새 데이터셋이 추가됩니다.

| 기능 | 설명 |
|------|------|
| **추가** | 최대 여러 개의 데이터셋 동시 관리 |
| **삭제** | 각 데이터셋의 ✕ 버튼으로 제거 |
| **독립 설정** | 데이터셋별로 테이블 타입, 계급 설정 등 개별 지정 |

#### 🎨 데이터셋별 색상

각 데이터셋은 고유한 색상으로 구분됩니다. 다각형 색상 프리셋에서 변경 가능합니다.

---

### ✏️ 테이블 셀 편집

도수분포표를 **클릭**하면 편집 모달이 열립니다.

#### 🔧 편집 기능

| 기능 | 설명 |
|------|------|
| **셀 클릭** | 해당 셀을 편집 모드로 전환 |
| **변수 치환** | 숫자 대신 변수(A, x 등)로 대체 |
| **빈칸 처리** | `_` 입력 시 빈칸으로 표시 |
| **원복** | 빈 값으로 저장하면 원래 값 복원 |

#### ⚙️ 추가 옵션

| 옵션 | 설명 |
|------|------|
| **합계 행 표시** | 합계 행 표시/숨김 토글 |
| **상대도수 헤더** | 이원분류표의 상대도수 헤더 표시/숨김 |

---

### 💬 말풍선 표시

히스토그램 막대에 **말풍선**을 표시할 수 있습니다.

#### ⚙️ 설정 방법

1. **"말풍선 표시"** 체크박스 선택
2. **말풍선 텍스트** 입력란에 내용 입력

#### 📝 텍스트 템플릿

| 변수 | 설명 |
|------|------|
| `{datasetName}` | 데이터셋 이름 |
| `{frequency}` | 해당 막대의 도수 |
| `\n` | 줄바꿈 |

**예시:** `{datasetName}\n{frequency}명` → "데이터셋 1" + 줄바꿈 + "5명"

---

### ┆ 수직 파선 표시

차트에 **수직 파선**을 추가하여 특정 위치를 강조할 수 있습니다.

#### ⚙️ 설정 방법

**"수직 파선 표시"** 체크박스를 선택하면 활성화됩니다.

---

### 🔺 합동 삼각형 표시

히스토그램에 **삼각형**을 추가하여 영역을 시각적으로 구분할 수 있습니다.

#### ⚙️ 설정 방법

1. **"합동 삼각형 표시"** 체크박스 선택
2. **경계값** 입력 (예: 60)

경계값을 기준으로 삼각형이 표시됩니다.

---

### 🎨 다각형 색상 선택

상대도수 다각형의 **색상을 변경**할 수 있습니다.

#### 🎯 색상 프리셋

| 프리셋 | 색상 |
|--------|------|
| **Default** | 기본 녹색 계열 |
| **Primary** | 파란색 계열 |
| **Secondary** | 보라색 계열 |
| **Tertiary** | 주황색 계열 |

"도수 다각형 표시" 옵션 옆의 색상 버튼을 클릭하여 변경하세요.

---

### 📏 Y축 커스텀 간격

Y축의 **눈금 간격을 직접 설정**할 수 있습니다.

#### ⚙️ 설정 방법

1. **Y축 설정** 섹션에서 모드 선택 (상대도수/도수)
2. **간격 입력란**에 원하는 값 입력

| 모드 | 기본 간격 | 커스텀 예시 |
|------|-----------|-------------|
| **상대도수** | 자동 | 10, 20, 25 등 |
| **도수** | 자동 | 1, 2, 5 등 |

---

### 📐 격자선 토글

차트의 **격자선을 개별적으로 표시/숨김**할 수 있습니다.

#### ⚙️ 설정 위치

**고급 설정 > 격자선 표시**

| 옵션 | 설명 |
|------|------|
| **가로 격자선 (Y축)** | 수평 격자선 표시/숨김 |
| **세로 격자선 (X축)** | 수직 격자선 표시/숨김 |

---

### 💾 JSON 내보내기/불러오기

차트 데이터를 **JSON 형식으로 저장하고 불러올** 수 있습니다.

#### 📤 내보내기

1. **"💾 JSON 내보내기"** 버튼 클릭
2. JSON 파일이 다운로드됨

#### 📥 불러오기

1. **"📂 JSON 불러오기"** 버튼 클릭
2. 저장된 JSON 파일 선택
3. 차트 데이터가 복원됨

💡 **활용:** 작업 내용 저장, 다른 기기에서 이어서 작업, 데이터 공유

---

### 🫥 Corruption (찢김 효과)

차트나 테이블의 특정 영역에 **종이가 찢어진 듯한 효과**를 적용할 수 있습니다.

#### 🎨 효과 특징

| 요소 | 설명 |
|------|------|
| **찢어진 가장자리** | 불규칙한 곡선으로 자연스러운 찢김 표현 |
| **섬유 효과** | 찢긴 부분에 종이 섬유가 보이는 효과 |
| **투명/불투명** | 찢긴 영역을 투명하게 또는 배경색으로 처리 |

#### ⚙️ viz-api.js에서 사용

```javascript
VizAPI.renderChart(element, {
  data: [62, 87, 97, 73, 59, 85],
  options: {
    corruption: {
      enabled: true,
      cells: ['1-1:2-3'],  // 시작셀:끝셀 형식
      style: {
        edgeComplexity: 0.7,  // 가장자리 복잡도 (0~1)
        transparent: true,     // 투명 처리
        fiberEnabled: true     // 섬유 효과
      }
    }
  }
});
```

#### 📊 셀 범위 지정 형식

```
"행-열:행-열"  →  시작셀:끝셀
"1-1:2-3"     →  (1,1)부터 (2,3)까지 영역
```

---

### 🔤 셀 변수 치환 (cellVariables)

테이블의 특정 셀 값을 **변수나 커스텀 텍스트로 대체**할 수 있습니다.

#### 📌 용도

- 문제 출제 시 특정 값을 변수(x, a, ?)로 표시
- 합계 행의 값을 직접 지정
- 빈칸으로 만들어 학생이 채우도록 유도

#### ⚙️ viz-api.js에서 사용

```javascript
VizAPI.renderTable(element, {
  tableType: 'basic-table',
  data: '헤더: 계급, 도수\n0~10: 5\n10~20: 8',
  cellVariables: [
    { rowIndex: 1, colIndex: 1, value: 'x' },      // (1,1)을 'x'로
    { rowIndex: 2, colIndex: 1, value: '?' },      // (2,1)을 '?'로
    { rowIndex: 0, colIndex: 0, value: '점수' }    // 헤더 변경
  ]
});
```

#### 📊 rowIndex/colIndex 규칙

| rowIndex | 의미 |
|:--------:|------|
| 0 | 헤더 행 |
| 1~ | 데이터 행 |

| colIndex | 의미 |
|:--------:|------|
| 0 | 첫 번째 열 (행 라벨) |
| 1~ | 데이터 열 |

#### 💡 특수 값

| 값 | 효과 |
|----|------|
| `"_"` | 빈칸으로 표시 |
| `"x"`, `"?"` 등 | 변수로 표시 |

---

### ✨ 셀 애니메이션 (cellAnimations)

테이블의 특정 셀을 **하이라이트 애니메이션**으로 강조할 수 있습니다.

#### 🎬 애니메이션 종류

| 모드 | 설명 |
|------|------|
| **블링크** | 셀이 깜빡이며 강조 |
| **정적** | 셀이 계속 하이라이트된 상태 유지 |

#### ⚙️ viz-api.js에서 사용

```javascript
VizAPI.renderTable(element, {
  tableType: 'category-matrix',
  data: '헤더: A, B, C\n수학: 85, 90, 78',
  cellAnimations: [
    { rowIndex: 1, colIndex: 1, duration: 1500, repeat: 5 },
    { rowIndex: 1, colIndex: 2, duration: 1500, repeat: 3 }
  ],
  cellAnimationOptions: {
    blinkEnabled: true  // false면 정적 하이라이트
  }
});
```

#### 📊 애니메이션 옵션

| 옵션 | 타입 | 기본값 | 설명 |
|------|------|:------:|------|
| `rowIndex` | number | - | 행 인덱스 (0=헤더) |
| `colIndex` | number | - | 열 인덱스 |
| `duration` | number | 1500 | 애니메이션 주기 (ms) |
| `repeat` | number | 3 | 반복 횟수 |

---

### 🔌 viz-api.js 외부 연동

**viz-api.js**를 사용하면 외부 웹페이지에서 차트와 테이블을 쉽게 생성할 수 있습니다.

#### 📦 기본 사용법

```html
<script type="module">
  import * as VizAPI from './js/viz-api.js';

  // 차트 생성
  VizAPI.renderChart(document.getElementById('chart'), {
    data: [62, 87, 97, 73, 59, 85, 80, 79, 65, 75],
    classCount: 5,
    canvasSize: 500
  });

  // 테이블 생성
  VizAPI.renderTable(document.getElementById('table'), {
    tableType: 'basic-table',
    data: '헤더: 혈액형, 남, 여\nA: 0.4, 0.4\nB: 0.3, 0.3',
    canvasWidth: 400
  });
</script>
```

#### 🎯 통합 render() 함수

```javascript
// purpose로 차트/테이블 자동 분기
VizAPI.render(element, {
  purpose: 'chart',  // 또는 'table'
  data: [62, 87, 97, 73, 59, 85],
  // ... 옵션
});
```

#### 📚 상세 문서

모든 옵션과 설정은 **[VIZ-API-CONFIG.md](./VIZ-API-CONFIG.md)** 문서를 참조하세요.

---

## 🔧 문제 해결

### ⚠️ 자주 발생하는 오류

#### 오류 1: "유효한 데이터가 없습니다"

| 항목 | 내용 |
|------|------|
| **🔍 원인** | • 숫자가 아닌 문자만 입력<br>• 빈 칸만 입력 |
| **❌ 잘못된 예시** | `abc, def, ghi` |
| **✅ 올바른 예시** | `1, 2, 3, 4, 5` |

---

#### 오류 2: "최소 2개 이상의 데이터가 필요합니다"

| 항목 | 내용 |
|------|------|
| **🔍 원인** | 데이터를 1개만 입력 |
| **❌ 잘못된 예시** | `5` |
| **✅ 올바른 예시** | `5, 10` |

---

#### 오류 3: "계급 개수는 3~20 사이여야 합니다"

| 항목 | 내용 |
|------|------|
| **🔍 원인** | 계급 개수를 너무 작게 (1~2) 또는 크게 (21 이상) 설정 |
| **❌ 잘못된 예시** | `1` 또는 `25` |
| **✅ 올바른 예시** | `5` 또는 `10` |

---

#### 오류 4: 히스토그램이 표시되지 않음

| 항목 | 내용 |
|------|------|
| **🔍 원인** | • 브라우저가 Canvas를 지원하지 않음<br>• JavaScript가 비활성화됨 |
| **🔧 해결 방법** | • 최신 브라우저 사용 (Chrome, Firefox, Edge, Safari)<br>• JavaScript 활성화 확인 |

### 💡 데이터 입력 팁

#### 📋 많은 데이터 빠르게 입력하기

Excel이나 Google Sheets에서 복사-붙여넣기를 활용하세요!

**Step 1**: Excel/Sheets에서 데이터 선택
**Step 2**: 복사 (`Ctrl + C`)
**Step 3**: 웹사이트 입력창에 붙여넣기 (`Ctrl + V`)
**Step 4**: ✨ 자동으로 구분자 인식됨!

---

#### 🔢 지원되는 데이터 형식

| 데이터 유형 | 예시 | 설명 |
|------------|------|------|
| **소수점** | `1.5, 2.3, 4.7, 8.2` | 소수점 이하 자릿수 제한 없음 |
| **음수** | `-5, -3, 0, 2, 5` | 음수와 양수 혼합 가능 |
| **큰 숫자** | `1000, 2500, 3800` | 최대 10,000개까지 입력 가능 |
| **혼합** | `-10.5, -2.3, 4.1, 8.7` | 음수 + 소수점 조합 가능 |

💡 **Tip**: 데이터는 쉼표(`,`) 또는 공백(` `)으로 구분하면 됩니다!